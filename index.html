<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    
     <script>
        $(document).ready(function() {
  $('code, pre').append('<span class="command-copy" ><i class="fa fa-clipboard" aria-hidden="true"></i></span>');

  $('code span.command-copy').click(function(e) {
    var text = $(this).parent().text().trim(); //.text();
    var copyHex = document.createElement('input');
    copyHex.value = text
    document.body.appendChild(copyHex);
    copyHex.select();
    document.execCommand('copy');
    console.log(copyHex.value)
    document.body.removeChild(copyHex);
  });


  $('pre span.command-copy').click(function(e) {
    var text = $(this).parent().text().trim();
    var copyHex = document.createElement('input');
    copyHex.value = text
    document.body.appendChild(copyHex);
    copyHex.select();
    document.execCommand('copy');
    console.log(copyHex.value)
    document.body.removeChild(copyHex);
  });
})
    </script>

    <style>
        code,
pre {
  position: relative;
}

code,
pre {
  display: block;

}

span.command-copy {
  position: absolute;
  top: 10px;
  right: 10px;
  opacity: .6;
  font-size: 20px;
  color: #555755;
}

span.command-copy:hover {
  cursor: pointer;
}
    </style>

    <blockquote style="border: none; margin: 0px 0px 0px 40px; padding: 0px; text-align: left;"><blockquote style="border: none; margin: 0px 0px 0px 40px; padding: 0px; text-align: left;"><h3>Index</h3></blockquote><blockquote style="border: none; margin: 0px 0px 0px 40px; padding: 0px; text-align: left;"><a href="#distance">1.Distance Vector</a></blockquote><blockquote style="border: none; margin: 0px 0px 0px 40px; padding: 0px; text-align: left;"><a href="#leaky">2.Leaky Bucket</a></blockquote><blockquote style="border: none; margin: 0px 0px 0px 40px; padding: 0px; text-align: left;"><a href="#udp">3.UDP</a></blockquote><blockquote style="border: none; margin: 0px 0px 0px 40px; padding: 0px; text-align: left;"><a href="#tcp">4.TCP</a></blockquote>    <blockquote style="border: none; margin: 0px 0px 0px 40px; padding: 0px; text-align: left;"><a href="#ftp">5.FTP</a></blockquote>
<blockquote style="border: none; margin: 0px 0px 0px 40px; padding: 0px; text-align: left;"><a href="#stop">6.Stop and wait</a></blockquote></blockquote>

    
    
    


<h2 id="distance" style="text-align: left;">Distance Vector&nbsp;<span style="color: red;">&nbsp;&nbsp;</span></h2><div><div><div style="background-color: #1e1e1e; border-radius: 9px; border-width: .1em .1em .1em .1em; border: 0.1em solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><pre style="line-height: 16.25px; margin-bottom: 0px; margin-top: 0px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><pre style="box-sizing: initial; color: #333333; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 1.25em;"><div style="color: #d4d4d4; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="font-size: 14px; line-height: 19px;"><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdio.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-class" style="box-sizing: inherit; color: white; font-family: monospace;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">node</span>
       {</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">unsigned</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> dist[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">20</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">];
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">unsigned</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> from[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">20</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">];
       }rt[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">10</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">];
       </span><span class="hljs-function" style="box-sizing: inherit; color: white; font-family: monospace;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">int</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">main</span><span class="hljs-params" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">()</span>
       </span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">{
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> costmat[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">20</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">][</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">20</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">];
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> nodes,i,j,k,count=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;
           </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"\nEnter the number of nodes : "</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">scanf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"%d"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,&amp;nodes);</span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">//Enter the nodes</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
           </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"\nEnter the cost matrix :\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">for</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(i=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;i&lt;nodes;i++)
           {
               </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">for</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(j=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;j&lt;nodes;j++)
               {
                   </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">scanf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"%d"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,&amp;costmat[i][j]);
                   costmat[i][i]=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;
                   rt[i].dist[j]=costmat[i][j];</span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">//initialise the distance equal to cost matrix</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
                   rt[i].from[j]=j;
               }
           }
               </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">do</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
               {
                   count=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;
                   </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">for</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(i=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;i&lt;nodes;i++)</span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">//We choose arbitary vertex k and we calculate the direct distance from the node i to k using the cost matrix</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
                   </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">//and add the distance from k to node j</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
                   </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">for</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(j=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;j&lt;nodes;j++)
                   </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">for</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(k=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;k&lt;nodes;k++)
                       </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(rt[i].dist[j]&gt;costmat[i][k]+rt[k].dist[j])
                       {</span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">//We calculate the minimum distance</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
                           rt[i].dist[j]=rt[i].dist[k]+rt[k].dist[j];
                           rt[i].from[j]=k;
                           count++;
                       }
               }</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">while</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(count!=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
               </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">for</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(i=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;i&lt;nodes;i++)
               {
                   </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"\n\n For router %d\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,i+</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
                   </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">for</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(j=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;j&lt;nodes;j++)
                   {
                       </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"\t\nnode %d via %d Distance %d "</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,j+</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,rt[i].from[j]+</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,rt[i].dist[j]);
                   }
               }
           </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"\n\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
       }
           </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">//getch(); }</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       
       output
       
       gcc dv.c
       ./a.out</span></div></div></div></div></div></pre></div></div></div></pre></div></div><div><span><b><span style="color: red;"><br /></span></b></span></div></div><div><span><h2 id="leaky">Leaky Bucket</h2><div><div style="background-color: #1e1e1e; border-radius: 9px; border-width: .1em .1em .1em .1em; border: 0.1em solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><pre style="line-height: 16.25px; margin-bottom: 0px; margin-top: 0px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><pre style="box-sizing: initial; color: #333333; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 1.25em;"><div style="color: #d4d4d4; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="font-size: 14px; line-height: 19px;"><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;stdio.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> main(){
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> incoming, outgoing, buck_size, n, store = </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Enter bucket size, outgoing rate and no of inputs: "</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           scanf(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"%d %d %d"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">, &amp;buck_size, &amp;outgoing, &amp;n);
       
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">while</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> (n != </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">) {
               </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Enter the incoming packet size : "</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
               scanf(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"%d"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">, &amp;incoming);
               </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Incoming packet size %d\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">, incoming);
               </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> (incoming &lt;= (buck_size - store)){
                   store += incoming;
                   </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Bucket buffer size %d out of %d\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">, store, buck_size);
               } </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">else</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> {
                   </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Dropped %d no of packets\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">, incoming - (buck_size - store));
                   </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Bucket buffer size %d out of %d\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">, store, buck_size);
                   store = buck_size;
               }
               store = store - outgoing;
               </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"After outgoing %d packets left out of %d in buffer\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">, store, buck_size);
               n--;
           }
       }
       Output
       
       gcc leaky.c
       ./a.out</span></div></div></div></div></div></pre></div></div></div></pre></div></div></span></div><div><br /></div><div><br /></div><div><h2 id="udp">UDP<span style="color: red;">&nbsp;&nbsp;</span></h2><div><div style="background-color: #1e1e1e; border-radius: 9px; border-width: .1em .1em .1em .1em; border: 0.1em solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><pre style="line-height: 16.25px; margin-bottom: 0px; margin-top: 0px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><pre style="box-sizing: initial; color: #333333; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 1.25em;"><div style="color: #d4d4d4; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="font-size: 14px; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace;">udpclient.c
       
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;stdio.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;string.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;sys/socket.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;stdlib.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;netdb.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> main(</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> argc,char* argv[])
       {
           struct sockaddr_in server,client;
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(argc!=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">3</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">)
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Input format not correct"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> sockfd=</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">socket</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(AF_INET,SOCK_DGRAM,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(sockfd==-</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">)
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Error in socket();"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           server.sin_family=AF_INET;
           server.sin_addr.s_addr=INADDR_ANY;
           server.sin_port=htons(atoi(argv[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">2</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">]));
           char buffer[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">100</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">];
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Enter a message to be sent to server: "</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           fgets(buffer,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">100</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,stdin);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(sendto(sockfd,buffer,sizeof(buffer),</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,(struct sockaddr*)&amp;server,sizeof(server))&lt;</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">)
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Error in sendto"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">return</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;
       }
       
        /*OUTPUT
       
       gcc udpc.c -o c
       ./c localhost </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">2050</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       Enter a message to be sent to server: hai
       
       
       udpserver.c
       
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;stdio.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;string.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;sys/socket.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;stdlib.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace;">#include&lt;netdb.h&gt;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> main(</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> argc,char* argv[])
       {
           struct sockaddr_in server,client;
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(argc!=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">2</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">)
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Input format not correct"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> sockfd=</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">socket</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(AF_INET,SOCK_DGRAM,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(sockfd==-</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">)
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Error in socket();"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           server.sin_family=AF_INET;
           server.sin_addr.s_addr=INADDR_ANY;
           server.sin_port=htons(atoi(argv[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">]));
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">bind</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(sockfd,(struct sockaddr*)&amp;server,sizeof(server))&lt;</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">)
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Error in blind()! \n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           char buffer[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">100</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">];
           socklen_t server_len=sizeof(server);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"server waiting....."</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(recvfrom(sockfd,buffer,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">100</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,(struct sockaddr*)&amp;server,&amp;server_len)&lt;</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">)
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Error in recvfrom()!"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace;">"Got a datagram:%s"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">,buffer);
           </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace;">return</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;"> </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">;
       }
       
       OUTPUT
       
        gcc udps.c -o s
        ./s </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace;">2050</span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
       
       server waiting.....Got a datagram:hai
       </span></div></div></div></div></div></pre></div></div></div></pre></div></div></div><div><br /></div><div><br /></div><div><h2 id="tcp">TCP&nbsp;<span style="color: red;">&nbsp;&nbsp;</span></h2><div><div style="background-color: #1e1e1e; border-radius: 9px; border-width: .1em .1em .1em .1em; border: 0.1em solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><pre style="line-height: 16.25px; margin-bottom: 0px; margin-top: 0px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><pre style="box-sizing: initial; line-height: 1.25em;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;">CLIENT.C </span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><br /></span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/socket.h&gt;</span></span><span style="font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;netinet/in.h&gt;</span></span><span style="font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdio.h&gt;</span></span><span style="font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;string.h&gt;</span></span><span style="font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdlib.h&gt;</span></span><span style="font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;unistd.h&gt;</span></span><span style="font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;arpa/inet.h&gt;</span></span><span style="font-size: 14px;">

</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;unistd.h&gt;</span></span><span style="font-size: 14px;">
</span><span class="hljs-function" style="box-sizing: inherit; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">int</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">main</span><span class="hljs-params" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">()</span>
</span><span style="font-size: 14px;">{
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">char</span><span style="font-size: 14px;"> buf[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">100</span><span style="font-size: 14px;">];
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">int</span><span style="font-size: 14px;"> k;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">int</span><span style="font-size: 14px;"> sock_desc;
    </span><span class="hljs-class" style="box-sizing: inherit; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">sockaddr_in</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">client</span>;</span><span style="font-size: 14px;">
    sock_desc=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">socket</span><span style="font-size: 14px;">(AF_INET,SOCK_STREAM,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="font-size: 14px;">);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">if</span><span style="font-size: 14px;">(sock_desc==</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">-1</span><span style="font-size: 14px;">)
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Error in socket creation"</span><span style="font-size: 14px;">);
    client.sin_family=AF_INET;
    client.sin_addr.s_addr=INADDR_ANY;
    client.sin_port=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">3004</span><span style="font-size: 14px;">;
    k=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">connect</span><span style="font-size: 14px;">(sock_desc,(struct sockaddr*)&amp;client,</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="font-size: 14px;">(client));
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">if</span><span style="font-size: 14px;">(k==</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">-1</span><span style="font-size: 14px;">)
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Error in connecting to server"</span><span style="font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"\nEnter data to be send:"</span><span style="font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">fgets</span><span style="font-size: 14px;">(buf,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">100</span><span style="font-size: 14px;">,stdin);
    k=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">send</span><span style="font-size: 14px;">(sock_desc,buf,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">100</span><span style="font-size: 14px;">,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Error in sending"</span><span style="font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">close</span><span style="font-size: 14px;">(sock_desc);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">return</span><span style="font-size: 14px;"> </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="font-size: 14px;">;
}</span>
</span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><span style="font-size: 14px;"><br /></span></span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="font-size: medium;">SERVER.C </span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="font-size: medium;"><br /></span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/socket.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;netinet/in.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdio.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;string.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdlib.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;arpa/inet.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-function" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">int</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">main</span><span class="hljs-params" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">()</span>
</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">{
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">char</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> buf[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">100</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">];
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> k;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">socklen_t</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> len;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> sock_desc,temp_sock_desc;
    </span><span class="hljs-class" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">sockaddr_in</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">server</span>,<span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">client</span>;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
    sock_desc=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">socket</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(AF_INET,SOCK_STREAM,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sock_desc==</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">-1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">)
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"Error in socketcreation"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    server.sin_family=AF_INET;
    server.sin_addr.s_addr=INADDR_ANY;
    server.sin_port=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">3004</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
    client.sin_family=AF_INET;
    client.sin_addr.s_addr=INADDR_ANY;
    client.sin_port=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">3004</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
    k=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">bind</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sock_desc,(struct sockaddr*)&amp;server,</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(server));
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(k==</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">-1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">)
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"Error in binding"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    k=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">listen</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sock_desc,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">5</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(k==</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">-1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">)
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"Error in listening"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    len=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(client);
    temp_sock_desc=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">accept</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sock_desc,(struct sockaddr*)&amp;client,&amp;len);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(temp_sock_desc==</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">-1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">)
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"Error in temporary socket creation"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    k=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">recv</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(temp_sock_desc,buf,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">100</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(k==</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">-1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">)
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"Error in receiving"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"Message got from client is : %s"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">,buf);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">close</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(temp_sock_desc);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">return</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
}</span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #232323; color: #e6e1dc; font-family: monospace;"><span style="font-size: medium;"><br /></span></span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="font-size: medium;">OUTPUT:</span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="font-size: medium;"><br /></span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="font-size: medium;">server.c</span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="font-size: medium;"><br /></span></div><div style="line-height: 19px;"><span style="font-size: medium;"><span style="color: #d4d4d4; font-family: Consolas, Courier New, monospace;">Message got from client is : hi
</span><span style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace;">
</span></span></div><div style="line-height: 19px;"><span style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace;"><span style="font-size: medium;">client.c</span></span></div><div style="line-height: 19px;"><span style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace;"><span style="font-size: medium;"><br /></span></span></div><div style="line-height: 19px;"><span style="color: #d4d4d4; font-family: Consolas, Courier New, monospace; font-size: medium;">Enter data to be send:hi

Error in sending</span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><br /></div></div></div></div></div></pre></div></div></div></pre></div></div></div><div><br /></div><div><br /></div><div><div><h2 id="ftp">FTP</h2><div><div style="background-color: #1e1e1e; border-radius: 9px; border-width: .1em .1em .1em .1em; border: 0.1em solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><pre style="line-height: 16.25px; margin-bottom: 0px; margin-top: 0px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><pre style="box-sizing: initial; line-height: 1.25em;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="font-size: 14px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace;">Client.c
       <span class="hljs-meta" style="box-sizing: inherit; color: #88aece;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta" style="box-sizing: inherit; color: #88aece;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;string.h&gt;</span></span>
<span class="hljs-meta" style="box-sizing: inherit; color: #88aece;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdlib.h&gt;</span></span>
<span class="hljs-meta" style="box-sizing: inherit; color: #88aece;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/socket.h&gt;</span></span>
<span class="hljs-meta" style="box-sizing: inherit; color: #88aece;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;netinet/in.h&gt;</span></span>
<span class="hljs-meta" style="box-sizing: inherit; color: #88aece;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;unistd.h&gt;</span></span>
<span class="hljs-function" style="box-sizing: inherit;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">int</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">main</span><span class="hljs-params" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">()</span>
</span>{
    FILE *fp;
    <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">int</span> csd,n,ser,s,cli,cport,newsd;
    <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">char</span> name[<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">100</span>],rcvmsg[<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">100</span>],rcvg[<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">100</span>],fname[<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">100</span>];
    <span class="hljs-class" style="box-sizing: inherit;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">sockaddr_in</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">servaddr</span>;</span>
    <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">printf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"Enter the port"</span>);
    <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">scanf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"%d"</span>,&amp;cport);
    csd=<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">socket</span>(AF_INET,SOCK_STREAM,<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">0</span>);
    <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">if</span>(csd&lt;<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">0</span>)
    {
        <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">printf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"Error....\n"</span>);
        <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">exit</span>(<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">0</span>);
    }
    <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">else</span>
        <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">printf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"Socket is created\n"</span>);
    servaddr.sin_family=AF_INET;
    servaddr.sin_addr.s_addr=<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">htonl</span>(INADDR_ANY);
    servaddr.sin_port=<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">htons</span>(cport);
    <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">if</span>(<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">connect</span>(csd,(struct sockaddr *)&amp;servaddr,<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span>(servaddr))&lt;<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">0</span>)
        <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">printf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"Error in connection\n"</span>);
    <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">else</span>
        <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">printf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"connected\n"</span>);
    <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">printf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"Enter the existing file name\t"</span>);
    <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">scanf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"%s"</span>,name);
    <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">printf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"Enter the new file name\t"</span>);
    <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">scanf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"%s"</span>,fname);
    fp=<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">fopen</span>(fname,<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"w"</span>);
    <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">send</span>(csd,name,<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span>(name),<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">0</span>);
    <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">while</span>(<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">1</span>)
    {
        s=<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">recv</span>(csd,rcvg,<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">100</span>,<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">0</span>);
        rcvg[s]=<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">'\0'</span>;
        <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">if</span>(<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">strcmp</span>(rcvg,<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"error"</span>)==<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">0</span>)
            <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">printf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"File is not available\n"</span>);
        <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">if</span>(<span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">strcmp</span>(rcvg,<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"completed"</span>)==<span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">0</span>)
        {
            <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">printf</span>(<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"File is transferred........\n"</span>);
            <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">fclose</span>(fp);
            <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">close</span>(csd);
            <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">break</span>;
        }
        <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">else</span>
            <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">fputs</span>(rcvg,stdout);
        <span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49;">fprintf</span>(fp,<span class="hljs-string" style="box-sizing: inherit; color: #b5bd68;">"%s"</span>,rcvg);
        <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece;">return</span> <span class="hljs-number" style="box-sizing: inherit; color: #f08d49;">0</span>;
    }
}  
 
</span></span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;">SERVER.C</span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><br /></span></div><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdio.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/types.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;netinet/in.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;string.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdlib.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span><span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;unistd.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
</span><span class="hljs-function" style="box-sizing: inherit; color: white; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">int</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">main</span><span class="hljs-params" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">()</span>
</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">{
    FILE *fp;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;"> sd,newsd,ser,n,a,cli,pid,bd,port,clilen;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">char</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;"> name[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">100</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">],fileread[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">100</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">],fname[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">100</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">],ch,file[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">100</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">],rcv[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">100</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">];
    </span><span class="hljs-class" style="box-sizing: inherit; color: white; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">sockaddr_in</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">servaddr</span>,<span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">cliaddr</span>;</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Enter the port address\n"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">scanf</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"%d"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">,&amp;port);
    sd=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">socket</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(AF_INET,SOCK_STREAM,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(sd&lt;</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">)
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Cant create\n"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">else</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Socket is created\n"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    servaddr.sin_family=AF_INET;
    servaddr.sin_addr.s_addr=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">htonl</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(INADDR_ANY);
    servaddr.sin_port=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">htons</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(port);
    a=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(servaddr);
    bd=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">bind</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(sd,(struct sockaddr *)&amp;servaddr,a);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(bd&lt;</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">)
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Cant bind\n"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">else</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Binded\n"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">listen</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(sd,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">5</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    clilen=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(cliaddr);
    newsd=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">accept</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(sd,(struct sockaddr *)&amp;cliaddr,&amp;clilen);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(newsd&lt;</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">)
    {
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Cant accept\n"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    }
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">else</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Accepted\n"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    n=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">recv</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(newsd,rcv,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">100</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    rcv[n]=</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">'\0'</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">;
    fp=</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">fopen</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(rcv,</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"r"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(fp==</span><span class="hljs-literal" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">NULL</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">)
    {
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">send</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(newsd,</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"error"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">5</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">close</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(newsd);
    }
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">else</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
    {
        </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">while</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">fgets</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(fileread,</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(fileread),fp))
        {
            </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">send</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(newsd,fileread,</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(fileread),</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">)&lt;</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">)
            {
                </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"Can’t send file contents\n"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
            }
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">sleep</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
        }
        </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(!</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">fgets</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(fileread,</span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(fileread),fp))
        {
</span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-size: 14px;">//when file pointer reaches end of file, file transfer “completed” message is send to accepted client</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
</span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-size: 14px;">//connection using newsd, socket file descriptor.</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">send</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(newsd,</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-size: 14px;">"completed"</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">999999999</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">,</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
        }
        </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-size: 14px;">return</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">(</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-size: 14px;">);
    }
</span><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><span style="font-size: 14px;">}   </span></span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"> 
   Output</span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><br /></span></div><div style="color: #d4d4d4; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><br /></span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;">CREATE FILE -</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;">
hello.txt containing “Hello world”</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;">
ftpserver.c</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;">
gcc ftps.c -o fs
./fs
Enter the port address
5030
Socket is created
Binded
Accepted</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;">
ftpclient.c</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;">
gcc ftpc.c -o fc
./fc
Enter the port5030
Socket is created
connected
Enter the existing file name hello.txt
Enter the new file name hi.txt
Hello world
File is transferred........</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;"><br /></span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;">
AFTER FILE TRANSFER-</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;"><br /></span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-size: medium;">
2 files will appear
hello.txt containing “Hello world”
hi.txt containing “Hello world”</span></div></div></div></div></div></pre></div></div></div></pre></div></div></div><div><br /></div><div><div><h2 id="stop">Stop and Wait</h2><div><div style="background-color: #1e1e1e; border-radius: 9px; border-width: .1em .1em .1em .1em; border: 0.1em solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><pre style="line-height: 16.25px; margin-bottom: 0px; margin-top: 0px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><pre style="box-sizing: initial; color: #333333; font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 1.25em;"><div style="color: #d4d4d4; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;">Client.c</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><br /></span></div><div style="line-height: 19px;"><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdio.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdlib.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;string.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;time.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/types.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/stat.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/socket.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;unistd.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;arpa/inet.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">typedef</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> </span><span class="hljs-class" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">packet</span> {</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">char</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> data[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1024</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">];
} Packet;
</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">typedef</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> </span><span class="hljs-class" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">frame</span> {</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> frame_kind; </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace; font-size: 14px;">//ACK:0, SEQ:1 FIN:2</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> sq_no;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> ack;
    Packet packet;
} Frame;
</span><span class="hljs-function" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">int</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">main</span><span class="hljs-params" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">(<span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">int</span> argc, <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">char</span>** argv)</span> </span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">{
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> (argc != </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">2</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">) {
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"Usage: %s &lt;port&gt;"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">, argv[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">]);
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">exit</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    }
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> port = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">atoi</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(argv[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">]);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> sockfd;
    </span><span class="hljs-class" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">sockaddr_in</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">serverAddr</span>;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">char</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> buffer[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1024</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">];
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">socklen_t</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> addr_size;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> frame_id = </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
    Frame frame_send;
    Frame frame_recv;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> ack_recv = </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
    sockfd = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">socket</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(AF_INET, SOCK_DGRAM, </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">memset</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(&amp;serverAddr, </span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">'\0'</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">, </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(serverAddr));
    serverAddr.sin_family = AF_INET;
    serverAddr.sin_port = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">htons</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(port);
    serverAddr.sin_addr.s_addr = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">inet_addr</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"127.0.0.1"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">while</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">) {
        </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(ack_recv == </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">) {
            frame_send.sq_no = frame_id;
            frame_send.frame_kind = </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
            frame_send.ack = </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"Enter Data: "</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">scanf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"%s"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">, buffer);
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">strcpy</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(frame_send.packet.data, buffer);
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">sendto</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sockfd, &amp;frame_send, </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(Frame), </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">, (struct
                    sockaddr*)&amp;serverAddr, </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(serverAddr));
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"[+]Frame Send\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
        }
        </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> addr_size = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(serverAddr);
        </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> f_recv_size = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">recvfrom</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sockfd, &amp;frame_recv, </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(frame_recv), </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
                                   ,(struct sockaddr*)&amp;serverAddr, &amp;addr_size);
        </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">( f_recv_size &gt; </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> &amp;&amp; frame_recv.sq_no == </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> &amp;&amp; frame_recv.ack ==
                frame_id+</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">) {
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"[+]Ack Received\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
            ack_recv = </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
        } </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">else</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> {
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"[-]Ack Not Received\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
            ack_recv = </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
        }
        frame_id++;
    }
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">close</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sockfd);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">return</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
}
   </span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;">    
server.c     </span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><br /></span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><br /></span></div><div style="line-height: 19px;"><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdio.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;stdlib.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;string.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;time.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/types.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/stat.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;sys/socket.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;unistd.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-meta" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">#<span class="hljs-meta-keyword" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">include</span> <span class="hljs-meta-string" style="box-sizing: inherit; color: #b5bd68; font-style: inherit; font-weight: inherit;">&lt;arpa/inet.h&gt;</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">typedef</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> </span><span class="hljs-class" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">packet</span> {</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">char</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> data[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1024</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">];
} Packet;
</span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">typedef</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> </span><span class="hljs-class" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">frame</span> {</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> frame_kind; </span><span class="hljs-comment" style="box-sizing: inherit; color: #999999; font-family: monospace; font-size: 14px;">//ACK:0, SEQ:1 FIN:2</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> sq_no;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> ack;
    Packet packet;
} Frame;
</span><span class="hljs-function" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">int</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">main</span><span class="hljs-params" style="box-sizing: inherit; font-style: inherit; font-weight: inherit;">(<span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">int</span> argc, <span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">char</span>** argv)</span> </span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">{
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> (argc != </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">2</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">) {
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"Usage: %s &lt;port&gt;"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">, argv[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">]);
        </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">exit</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    }
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> port = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">atoi</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(argv[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">]);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> sockfd;
    </span><span class="hljs-class" style="box-sizing: inherit; color: white; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">struct</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">sockaddr_in</span> <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">serverAddr</span>, <span class="hljs-title" style="box-sizing: inherit; color: #f08d49; font-style: inherit; font-weight: inherit;">newAddr</span>;</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">char</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> buffer[</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1024</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">];
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">socklen_t</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> addr_size;
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> frame_id=</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
    Frame frame_recv;
    Frame frame_send;
    sockfd = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">socket</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(AF_INET, SOCK_DGRAM, </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">memset</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(&amp;serverAddr, </span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">'\0'</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">, </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(serverAddr));
    serverAddr.sin_family = AF_INET;
    serverAddr.sin_port = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">htons</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(port);
    serverAddr.sin_addr.s_addr = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">inet_addr</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"127.0.0.1"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">bind</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sockfd, (struct sockaddr*)&amp;serverAddr, </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(serverAddr));
    addr_size = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(newAddr);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">while</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">) {
        </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">int</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> f_recv_size = </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">recvfrom</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sockfd, &amp;frame_recv, </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(Frame), </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">, (struct
                                   sockaddr*)&amp;newAddr, &amp;addr_size);
        </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">if</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> (f_recv_size &gt; </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> &amp;&amp; frame_recv.frame_kind == </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> &amp;&amp; frame_recv.sq_no
                == frame_id) {
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"[+]Frame Received: %s\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">, frame_recv.packet.data);
            frame_send.sq_no = </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
            frame_send.frame_kind = </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
            frame_send.ack = frame_recv.sq_no + </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">1</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">sendto</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sockfd, &amp;frame_send, </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;"><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-style: inherit; font-weight: inherit;">sizeof</span></span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(frame_send), </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">, (struct
                    sockaddr*)&amp;newAddr, addr_size);
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"[+]Ack Send\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
        } </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">else</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> {
            </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">printf</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(</span><span class="hljs-string" style="box-sizing: inherit; color: #b5bd68; font-family: monospace; font-size: 14px;">"[+]Frame Not Received\n"</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">);
        }
        frame_id++;
    }
    </span><span class="hljs-built_in" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">close</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">(sockfd);
    </span><span class="hljs-keyword" style="box-sizing: inherit; color: #88aece; font-family: monospace; font-size: 14px;">return</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;"> </span><span class="hljs-number" style="box-sizing: inherit; color: #f08d49; font-family: monospace; font-size: 14px;">0</span><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: 14px;">;
}</span></div><div style="line-height: 19px;"><span style="font-size: medium;"><span style="background-color: #1c1b1b; color: white; font-family: monospace;">  </span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">
 </span><span style="background-color: #1c1b1b; color: white; font-family: monospace;">   OUTPUT
       

Client side</span></span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;">
gcc client.c -o c
./c 4000
Enter Data: 1234
[+]Frame Send
[+]Ack Received
Enter Data: 0100
[+]Frame Send
[+]Ack Received
Enter Data: -5
[+]Frame Send
[+]Ack Received
Enter Data: abc
[+]Frame Send
[+]Ack Received</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;">
Server side</span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;"><br /></span></div><div style="line-height: 19px;"><span style="background-color: #1c1b1b; color: white; font-family: monospace; font-size: medium;">
gcc server.c -o s
net@inlab:~/Desktop$ ./s 4000
[+]Frame Received: 1234
[+]Ack Send
[+]Frame Received: 0100
[+]Ack Send
[+]Frame Received: -5
[+]Ack Send
[+]Frame Received: abc
[+]Ack Send</span></div></div></div></div></div></pre></div></div></div></pre></div></div></div><div><br /></div><div><br /></div></div></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div>
</body>
</html>
